<style type="text/css">
.maplusTitle
{
    font-size: small;
    font-weight: bold;
    color: Gray;
}
.maplusLink
{
    font-size: small;
    font-weight: bold;
    color: #A0A0A0;
    text-decoration: none;
}
.maplusLink:hover
{
    background: black;
    color: #B0B0B0;
    text-decoration: none;
}
</style>

<table cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <span class="maplusTitle">
                Melior Annis&nbsp;<a href="http://maplus.zapto.org/" target="_blank" class="maplusLink">Plus</a>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="small">
                Uplynulo:&nbsp;<span id="plus_cas" class="small">0:00:00</span>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="small">
                <a id="plus_enable" href="javascript://">Deaktivovat Plus</a>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="small">
                <a id="plus_nastaveni">Nastavení</a>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span id="plus_upozorneni" class="small"></span>
        </td>
    </tr>
</table>

<script type="text/javascript">
// Pro uziti v extenderu
$X('//a[@id = "plus_enable"]').updateText = function(value) {
    this.innerHTML = (value ? "Deaktivovat Plus" : "Aktivovat Plus");
}

var MaPlusMenu = {
    // Cas od zobrazeni                
    view: new Date().getTime(),

    updateTime: function() {
        var elapsed = (new Date().getTime() - this.view) / 1000;
        var h = Math.floor(elapsed / 3600);
        var m = Math.floor((elapsed / 60) % 60);
        var s = Math.floor(elapsed % 60);
        
        $('plus_cas').innerHTML = h + ":" + (m < 10 ? "0" : "") + m + ":" + (s < 10 ? "0" : "") + s;
    },
    
    startTimer: function() {
        this.timer = setInterval(function() { MaPlusMenu.updateTime(); }, 1000)
    },
    
    zobrazUpozorneni: function(text) {
        if (text == null || text.blank())
            return;
    
        var span = $('plus_upozorneni');
        span.appendChild(Element.create("span", text, {class: "maplusUpozorneni"}));
        span.appendChild(Element.create("br"));
    }
};

MaPlusMenu.updateTime();

if (!TIMERS_DISABLED) {
    MaPlusMenu.startTimer();
}
</script>
