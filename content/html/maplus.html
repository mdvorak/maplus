<style type="text/css">
.maplusTitle
{
    font-size: small;
    font-weight: bold;
    color: Gray;
}
.maplusLink
{
    font-size: small;
    font-weight: bold;
    color: #A0A0A0;
    text-decoration: none;
}
.maplusLink:hover
{
    background: black;
    color: #B0B0B0;
    text-decoration: none;
}
</style>

<table cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <span class="maplusTitle">
                Melior Annis&nbsp;<a href="http://maplus.zapto.org/" target="_blank" class="maplusLink">Plus</a>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="small">
                Uplynulo:&nbsp;<span id="plus_cas" class="small">0:00:00</span>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="small">
                <a id="plus_enable" href="javascript://">Deaktivovat Plus</a>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <span class="small">
                <a href="javascript://" onclick="alert('TODO');">Nastavení</a>
            </span>
        </td>
    </tr>
</table>

<script type="text/javascript">
// Pro uziti v extenderu
$XF('//a[@id = "plus_enable"]').updateText = function(value) {
    this.innerHTML = (value ? "Deaktivovat Plus" : "Aktivovat Plus");
}

var MaPlus = {
    // Cas od zobrazeni                
    view: new Date().getTime(),

    updateTime: function() {
        var elapsed = (new Date().getTime() - this.view) / 1000;
        var h = Math.floor(elapsed / 3600);
        var m = Math.floor((elapsed / 60) % 60);
        var s = Math.floor(elapsed % 60);
        
        $('plus_cas').innerHTML = h + ":" + (m < 10 ? "0" : "") + m + ":" + (s < 10 ? "0" : "") + s;
    }
};

MaPlus.updateTime();
var ma_timer = setInterval(function() { MaPlus.updateTime(); }, 1000);
</script>
